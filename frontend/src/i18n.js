import { useContext } from 'react';
import { SettingsContext } from './contexts/SettingsContext';

const MESSAGES = {
    en: {
        addIncome: 'Add Income',
        addExpense: 'Add Expense',
        filters: 'Filters',
        show: 'Show',
        hide: 'Hide',
        incomeVsExpenses: 'Income vs Expenses',
        expensesByCategory: 'Expenses by Category',
        totals: 'Totals',
        trend: 'Trend',
        month: 'Month',
        person: 'Person',
        all: 'All',
        commonExpense: 'Common expense (to split)',
        incomeAdded: 'Income added',
        expenseAdded: 'Expense added',
        summary: 'Summary',
        loadingSummary: 'Loading summary...',
        totalExpenses: 'Total Expenses',
        totalIncomes: 'Total Incomes',
        commonExpenses: 'Common Expenses',
        user: 'User',
        income: 'Income',
        commonShare: 'Common Share',
        paidCommon: 'Paid common',
        net: 'Net',
        settlements: 'Settlements',
        noSettlementsNeeded: 'No settlements needed',
        debugMismatchSuggestion: 'There is a discrepancy between recorded "paid common" amounts and the total common expenses. Inspect individual common expenses for the month.',
        editExpense: 'Edit expense',
        edit: 'Edit',
        save: 'Save',
        cancel: 'Cancel',
        remove: 'Remove',
        selectOwner: 'Select owner',
        amount: 'Amount',
        category: 'Category',
        owner: 'Owner',
        date: 'Date',
        confirmRemoveTitle: 'Confirm remove',
        confirmRemoveMessage: 'Are you sure you want to remove this expense?',
    loading: 'Loading...',
        validationAmount: 'Amount must be greater than 0',
        validationOwner: 'Select an owner',
        validationDate: 'Select a date',
        savedSuccesfully: 'Saved successfully',
        saveFailed: 'Save failed',
    },
    it: {
        addIncome: 'Aggiungi reddito',
        addExpense: 'Aggiungi spesa',
        filters: 'Filtri',
        show: 'Mostra',
        hide: 'Nascondi',
        incomeVsExpenses: 'Redditi vs Spese',
        expensesByCategory: 'Spese per categoria',
        totals: 'Totali',
        trend: 'Andamento',
        month: 'Mese',
        person: 'Persona',
        all: 'Tutti',
        commonExpense: 'Spesa comune (da dividere)',
        incomeAdded: 'Reddito aggiunto',
        expenseAdded: 'Spesa aggiunta',
        summary: 'Riepilogo',
        loadingSummary: 'Caricamento riepilogo...',
        totalExpenses: 'Spese Totali',
        totalIncomes: 'Redditi Totali',
        commonExpenses: 'Spese Comuni',
        user: 'Utente',
        income: 'Reddito',
        commonShare: 'Quota Comune',
        paidCommon: 'Pagato comune',
        net: 'Netto',
        settlements: 'Crediti',
        noSettlementsNeeded: 'Nessun regolamento necessario',
        debugMismatchSuggestion: 'C’è una discrepanza tra gli importi "pagato comune" registrati e il totale delle spese comuni. Ispeziona le spese comuni del mese.',
        editExpense: 'Modifica spesa',
        edit: 'Modifica',
        save: 'Salva',
        cancel: 'Annulla',
        remove: 'Rimuovi',
        selectOwner: 'Seleziona proprietario',
        amount: 'Importo',
        category: 'Categoria',
        owner: 'Proprietario',
        date: 'Data',
        confirmRemoveTitle: 'Conferma rimozione',
        confirmRemoveMessage: 'Sei sicuro di voler rimuovere questa spesa?',
    loading: 'Caricamento...',
        validationAmount: 'L\'importo deve essere maggiore di 0',
        validationOwner: 'Seleziona un proprietario',
        validationDate: 'Seleziona una data',
        savedSuccesfully: 'Salvato con successo',
        saveFailed: 'Salvataggio fallito',
    }
};

export const useTranslation = () => {
    const { lang } = useContext(SettingsContext);
    const messages = MESSAGES[lang] || MESSAGES.en;
    const t = (key) => messages[key] || key;
    return { t, lang };
};

export default useTranslation;
